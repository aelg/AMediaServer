<!doctype html>
<html>
  <head>
    <title>Aelg Media Server</title>
    <script type="text/javascript">
    <!--
    function playerCommand(cmd){
      xmlHttp = new XMLHttpRequest();
      xmlHttp.open("GET", '/player/' + cmd, false);
      xmlHttp.send(null);
      return xmlHttp.response;
    }
    function update(){
      var info = JSON.parse(playerCommand('get_info'));
      //var info = {};
      if (typeof info.name != 'undefined'){
        var date = new Date(null);
        date.setSeconds(info.time);
        var s = '<p> Playing: ' + info.name + '</p>';
        s += '<p>Time: ';
        s += (date.getUTCHours()<10?'0':'') + date.getUTCHours() + ':';
        s += (date.getUTCMinutes()<10?'0':'') + date.getUTCMinutes() + ':';
        s += (date.getUTCSeconds()<10?'0':'') + date.getUTCSeconds();
        s += '</p>';
        document.getElementById('playerInfo').innerHTML = s;
      }
      else{
        document.getElementById('playerInfo').innerHTML = '<p>No video playing</p>';
      }
    }
    var timerId = 0;
    window.onload = function(){
      update();
      timerId = window.setInterval(update, 1000);
    }

    -->
    </script>
  </head>
  <body>
  <div id="playerInfo"></div>
  <div>
  <a href="/">To Video List</a><br /><br /><br /><br />
  <a href='' onclick="playerCommand('long_backward');return false;">&lt;&lt;</a>&nbsp;&nbsp;&nbsp;&nbsp;
  <a href='' onclick="playerCommand('short_backward');return false;">&lt;</a>&nbsp;&nbsp;&nbsp;&nbsp;
  <a href='' onclick="playerCommand('pause');return false;">Pause</a>&nbsp;&nbsp;&nbsp;&nbsp;
  <a href='' onclick="playerCommand('stop');return false;">Stop</a>&nbsp;&nbsp;&nbsp;&nbsp;
  <a href='' onclick="playerCommand('short_forward');return false;">&gt;</a>&nbsp;&nbsp;&nbsp;&nbsp;
  <a href='' onclick="playerCommand('long_forward');return false;">&gt;&gt;</a>
  </body>
</html>
